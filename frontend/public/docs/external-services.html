<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOCiD Metadata Schema - External Services Integration</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="doc-wrapper">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>DOCiD Schema</h2>
                <div class="version-info">Version 1.0</div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Documentation</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="index.html" class="nav-link">Introduction</a>
                        </li>
                        <li class="nav-item">
                            <a href="architecture.html" class="nav-link">System Architecture</a>
                        </li>
                        <li class="nav-item">
                            <a href="metadata-schema.html" class="nav-link">Metadata Properties</a>
                            <ul class="nav-sublist">
                                <li class="nav-item">
                                    <a href="metadata-schema.html#core-properties" class="nav-link">Core Properties (1-20)</a>
                                </li>
                                <li class="nav-item">
                                    <a href="metadata-schema.html#publication-model" class="nav-link">Publication Model</a>
                                </li>
                                <li class="nav-item">
                                    <a href="metadata-schema.html#creator-model" class="nav-link">Creator Management</a>
                                </li>
                                <li class="nav-item">
                                    <a href="metadata-schema.html#controlled-vocabularies" class="nav-link">Controlled Vocabularies</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a href="api-reference.html" class="nav-link">API Reference</a>
                            <ul class="nav-sublist">
                                <li class="nav-item">
                                    <a href="api-reference.html#authentication-endpoints" class="nav-link">Authentication</a>
                                </li>
                                <li class="nav-item">
                                    <a href="api-reference.html#publication-endpoints" class="nav-link">Publications</a>
                                </li>
                                <li class="nav-item">
                                    <a href="api-reference.html#comments-endpoints" class="nav-link">Comments System</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a href="external-services.html" class="nav-link active">External Services</a>
                            <ul class="nav-sublist">
                                <li class="nav-item">
                                    <a href="external-services.html#cordra-integration" class="nav-link">CORDRA</a>
                                </li>
                                <li class="nav-item">
                                    <a href="external-services.html#crossref-integration" class="nav-link">Crossref</a>
                                </li>
                                <li class="nav-item">
                                    <a href="external-services.html#cstr-integration" class="nav-link">CSTR</a>
                                </li>
                                <li class="nav-item">
                                    <a href="external-services.html#ror-integration" class="nav-link">ROR</a>
                                </li>
                                <li class="nav-item">
                                    <a href="external-services.html#orcid-integration" class="nav-link">ORCID</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Properties</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="properties-identifier.html" class="nav-link">1. Identifier</a>
                        </li>
                        <li class="nav-item">
                            <a href="properties-creator.html" class="nav-link">2. Creator</a>
                        </li>
                        <li class="nav-item">
                            <a href="properties-title.html" class="nav-link">3. Title</a>
                        </li>
                        <li class="nav-item">
                            <a href="properties-publisher.html" class="nav-link">4. Publisher</a>
                        </li>
                        <li class="nav-item">
                            <a href="properties-publication-year.html" class="nav-link">5. Publication Year</a>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Appendices</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="controlled-vocabularies.html" class="nav-link">Controlled Vocabularies</a>
                        </li>
                        <li class="nav-item">
                            <a href="cultural-protocols.html" class="nav-link">Cultural Protocols</a>
                        </li>
                        <li class="nav-item">
                            <a href="validation-rules.html" class="nav-link">Validation Rules</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" onclick="toggleSidebar()">â˜°</button>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-wrapper">
                <header class="doc-header">
                    <h1>External Services Integration</h1>
                    <div class="subtitle">Comprehensive integration with scholarly communication and research infrastructure services</div>
                </header>

                <!-- Integration Overview -->
                <section id="integration-overview">
                    <h2>Integration Architecture</h2>
                    
                    <div class="property">
                        <div class="property-header">
                            <div class="property-title">Service Integration Patterns</div>
                            <div class="property-meta">
                                <span class="property-badge">Architecture</span>
                                <span>All external services</span>
                            </div>
                        </div>
                        <div class="property-content">
                            <p>DOCiD integrates with multiple external services to provide comprehensive scholarly communication and research infrastructure capabilities. Each service is abstracted through dedicated service classes that provide consistent interfaces, authentication management, and error handling.</p>
                            
                            <h4>ðŸ”— Core Integration Features:</h4>
                            <ul>
                                <li><strong>Authentication Token Management:</strong> Automatic token refresh and error handling</li>
                                <li><strong>Batch Processing:</strong> Background jobs for bulk operations</li>
                                <li><strong>Error Handling:</strong> Comprehensive logging and fallback mechanisms</li>
                                <li><strong>Data Transformation:</strong> Service-specific metadata formatting</li>
                                <li><strong>Rate Limiting:</strong> Respect external service API limits</li>
                                <li><strong>Caching:</strong> Store external service responses when appropriate</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- CORDRA Integration -->
                <section id="cordra-integration">
                    <h2>CORDRA Digital Object Repository</h2>
                    
                    <div class="property">
                        <div class="property-header">
                            <div class="property-title">CORDRA Integration</div>
                            <div class="property-meta">
                                <span class="property-badge">Repository</span>
                                <span>service_cordra.py</span>
                            </div>
                        </div>
                        <div class="property-content">
                            <p>CORDRA (Corporation for Digital Repository Advancement) provides distributed digital object repository services with Handle generation and management capabilities.</p>
                            
                            <h4>Key Features:</h4>
                            <ul>
                                <li><strong>Handle Generation:</strong> Automatic Handle identifier assignment</li>
                                <li><strong>Metadata Storage:</strong> JSON-based object metadata</li>
                                <li><strong>Digital Object Repository:</strong> Distributed object storage</li>
                                <li><strong>Version Management:</strong> Object versioning and lifecycle management</li>
                            </ul>
                            
                            <div class="code-example">
                                <div class="code-header">CORDRA Push Script</div>
                                <div class="code-content">
                                    <pre><code># Push recent publications to CORDRA
python push_recent_to_cordra.py

# Update and push all publications
python update_and_push_to_cordra.py

# Individual publication push
python push_to_cordra.py --publication-id 123</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Crossref Integration -->
                <section id="crossref-integration">
                    <h2>Crossref DOI Registration</h2>
                    
                    <div class="property">
                        <div class="property-header">
                            <div class="property-title">Crossref Integration</div>
                            <div class="property-meta">
                                <span class="property-badge">DOI Registration</span>
                                <span>service_crossref.py</span>
                            </div>
                        </div>
                        <div class="property-content">
                            <p>Crossref is the official DOI registration agency for scholarly content. DOCiD integrates with Crossref for DOI metadata registration and management.</p>
                            
                            <h4>Integration Capabilities:</h4>
                            <ul>
                                <li><strong>DOI Registration:</strong> Automated DOI assignment and registration</li>
                                <li><strong>Metadata Deposit:</strong> Structured metadata submission</li>
                                <li><strong>Citation Linking:</strong> CrossRef participation for citation networks</li>
                                <li><strong>ORCID Integration:</strong> Author identification through ORCID</li>
                                <li><strong>Fundref Support:</strong> Funder identification and acknowledgment</li>
                            </ul>
                            
                            <div class="code-example">
                                <div class="code-header">Crossref API Configuration</div>
                                <div class="code-content">
                                    <pre><code># Environment variables
CROSSREF_API_URL=https://api.crossref.org
CROSSREF_API_KEY=your_crossref_api_key
CROSSREF_DEPOSITOR_EMAIL=depositor@institution.edu
CROSSREF_REGISTRANT=Institution Name

# API endpoints
POST /api/v1/crossref/register-doi
GET /api/v1/crossref/doi-status/{doi}
PUT /api/v1/crossref/update-metadata/{doi}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- CSTR Integration -->
                <section id="cstr-integration">
                    <h2>China Science and Technology Resource (CSTR)</h2>
                    
                    <div class="property">
                        <div class="property-header">
                            <div class="property-title">CSTR Integration</div>
                            <div class="property-meta">
                                <span class="property-badge">Chinese PID</span>
                                <span>service_cstr.py</span>
                            </div>
                        </div>
                        <div class="property-content">
                            <p>CSTR provides persistent identifier services for scientific and technological resources in China, supporting international research collaboration.</p>
                            
                            <h4>CSTR Services:</h4>
                            <ul>
                                <li><strong>CSTR Identifier Assignment:</strong> Format: CSTR:xxxxx.xx.xxxx-xxxx</li>
                                <li><strong>Resource Registration:</strong> Scientific dataset and publication registration</li>
                                <li><strong>Metadata Standards:</strong> Chinese metadata schema compliance</li>
                                <li><strong>Cross-Border Collaboration:</strong> International research project support</li>
                            </ul>
                            
                            <div class="code-example">
                                <div class="code-header">CSTR Management Scripts</div>
                                <div class="code-content">
                                    <pre><code># Setup CSTR service
./setup_cstr_service.sh

# Test single CSTR registration
python test_single_cstr.py

# Update all CSTR identifiers
python update_all_cstr_identifiers.py

# CSTR identifier format
CSTR:16389.09.A08V-0001</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ROR Integration -->
                <section id="ror-integration">
                    <h2>Research Organization Registry (ROR)</h2>
                    
                    <div class="property">
                        <div class="property-header">
                            <div class="property-title">ROR Integration</div>
                            <div class="property-meta">
                                <span class="property-badge">Organization IDs</span>
                                <span>ROR API</span>
                            </div>
                        </div>
                        <div class="property-content">
                            <p>ROR provides persistent identifiers for research organizations worldwide, enabling accurate institutional attribution and affiliation tracking.</p>
                            
                            <h4>ROR Integration Features:</h4>
                            <ul>
                                <li><strong>Organization Lookup:</strong> Real-time ROR ID verification</li>
                                <li><strong>Institutional Metadata:</strong> Complete organization information retrieval</li>
                                <li><strong>African Institutions:</strong> Comprehensive coverage of African research institutions</li>
                                <li><strong>API Integration:</strong> RESTful API for organization data</li>
                            </ul>
                            
                            <div class="code-example">
                                <div class="code-header">ROR API Usage</div>
                                <div class="code-content">
                                    <pre><code>GET /api/v1/ror/search?query=university%20cape%20town

Response:
{
    "status": "success",
    "data": {
        "ror_id": "https://ror.org/01ggx4157",
        "name": "University of Cape Town",
        "country": "South Africa",
        "types": ["Education"],
        "aliases": ["UCT"],
        "external_ids": {
            "GRID": {"all": "grid.7836.a"},
            "ISNI": {"all": ["0000 0004 1937 1151"]}
        }
    }
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ORCID Integration -->
                <section id="orcid-integration">
                    <h2>ORCID Author Identification</h2>
                    
                    <div class="property">
                        <div class="property-header">
                            <div class="property-title">ORCID Integration</div>
                            <div class="property-meta">
                                <span class="property-badge">Author IDs</span>
                                <span>ORCID API</span>
                            </div>
                        </div>
                        <div class="property-content">
                            <p>ORCID provides persistent digital identifiers for researchers, enabling accurate author identification and attribution across publications.</p>
                            
                            <h4>ORCID Features:</h4>
                            <ul>
                                <li><strong>Author Identification:</strong> Unique researcher identifiers</li>
                                <li><strong>Profile Integration:</strong> Researcher profile and affiliation data</li>
                                <li><strong>Publication Attribution:</strong> Accurate authorship linking</li>
                                <li><strong>OAuth Integration:</strong> Secure authentication for researchers</li>
                                <li><strong>African Researchers:</strong> Growing coverage of African researcher community</li>
                            </ul>
                            
                            <div class="code-example">
                                <div class="code-header">ORCID Integration Example</div>
                                <div class="code-content">
                                    <pre><code># Creator with ORCID
{
    "given_name": "Thabo",
    "family_name": "Mthembu",
    "orcid": "https://orcid.org/0000-0002-1825-0097",
    "affiliation": "University of Cape Town",
    "ror_id": "https://ror.org/01ggx4157",
    "role": "Author"
}

# ORCID API validation
GET https://pub.orcid.org/v3.0/0000-0002-1825-0097/record</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Service Configuration -->
                <section id="service-configuration">
                    <h2>Service Configuration</h2>
                    
                    <div class="property">
                        <div class="property-header">
                            <div class="property-title">Environment Configuration</div>
                            <div class="property-meta">
                                <span class="property-badge">Configuration</span>
                                <span>Environment variables</span>
                            </div>
                        </div>
                        <div class="property-content">
                            <p>External services require proper configuration through environment variables:</p>
                            
                            <div class="code-example">
                                <div class="code-header">Required Environment Variables</div>
                                <div class="code-content">
                                    <pre><code># CSTR Configuration
CSTR_CLIENT_ID=your_cstr_client_id
CSTR_SECRET=your_cstr_secret
CSTR_API_URL=https://cstr.cn/api

# Crossref Configuration  
CROSSREF_API_URL=https://api.crossref.org
CROSSREF_API_KEY=your_crossref_api_key
CROSSREF_DEPOSITOR_EMAIL=depositor@institution.edu

# Local Contexts Configuration
LC_API_KEY=your_local_contexts_api_key
LC_BASE_URL=https://localcontexts.org/api

# ROR Configuration (Public API)
ROR_API_URL=https://api.ror.org

# ORCID Configuration
ORCID_CLIENT_ID=your_orcid_client_id
ORCID_CLIENT_SECRET=your_orcid_client_secret
ORCID_API_URL=https://api.sandbox.orcid.org</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="doc-footer">
                    <p><strong>DOCiD Metadata Schema Documentation v1.0</strong></p>
                    <p>External Services Integration â€¢ African PID Alliance</p>
                    <div class="license">
                        <p>This documentation is licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International (CC BY 4.0)</a></p>
                    </div>
                </footer>
            </div>
        </main>
    </div>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop" onclick="scrollToTop()">â†‘</button>

    <script>
        // Sidebar toggle for mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }

        // Scroll to top functionality
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Show/hide scroll to top button
        window.addEventListener('scroll', function() {
            const scrollTop = document.getElementById('scrollTop');
            if (window.pageYOffset > 300) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        });

        // Close sidebar on mobile when clicking outside
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const toggle = document.querySelector('.mobile-menu-toggle');
            
            if (window.innerWidth <= 768 && 
                !sidebar.contains(event.target) && 
                !toggle.contains(event.target) && 
                sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
            }
        });
    </script>
</body>
</html>